Q1. Write an Apex Trigger to update the custom field Number_of_Contacts__c on the Account object with the total number of related Contact records

trigger ContactTrigger on Contact (after insert, after update, after delete, after undelete) {
    if (Trigger.isAfter) {
        if (Trigger.isInsert || Trigger.isUpdate || Trigger.isDelete || Trigger.isUndelete) {
            ContactTriggerHandler.updateContactCount(Trigger.new, Trigger.old, Trigger.isInsert, Trigger.isUpdate, Trigger.isDelete, Trigger.isUndelete);
        }
    }
}


public class ContactTriggerHandler {
    public static void updateContactCount(List<Contact> newContacts, List<Contact> oldContacts, Boolean isInsert, Boolean isUpdate, Boolean isDelete, Boolean isUndelete) {
        Set<Id> accountIds = new Set<Id>();
        if (isInsert || isUpdate || isUndelete) {
            for (Contact con : newContacts) {
                if (con.AccountId != null) {
                    accountIds.add(con.AccountId);
                }
            }
        }
        if (isDelete || isUpdate || isUndelete) {
            for (Contact cont : oldContacts) {
                if (cont.AccountId != null) {
                    accountIds.add(cont.AccountId);
                }
            }
        }

        if (!accountIds.isEmpty()) {
            List<Account> accountsToUpdate = List<Account>();

            for (Account acc : [SELECT Id, Number_of_Contacts__c, (SELECT Id FROM Contacts) FROM Account WHERE Id IN :accountIds]) {
                acc.Number_of_Contacts__c = acc.Contacts.size();
                accountsToUpdate.add(acc);
            }
             if (!accountsToUpdate.isEmpty()) {
                update accountsToUpdate;
            }
    }
    
    }
}